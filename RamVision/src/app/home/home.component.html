<div class="header">
  <h1>RamVision</h1>
  <!-- <img src="RAMV.jpg"> -->
  <div class="buttons">
    <button class="button-primary" routerLink="/submissionform">Grade Submission Form</button>
    <a class="button-secondary" href="https://forms.gle/KYYf5MXQM2nH9mXXA" target="_blank">Contact us!</a>
  </div>
</div>

<div class="dropdowns">
  <form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
    <mat-form-field class="dropdown">
      <mat-label>Major</mat-label>
      <mat-select formControlName="major">
        <mat-option *ngFor="let major of majors" [value]="major">
          {{major}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="dropdown">
      <mat-label>Semester</mat-label>
      <mat-select formControlName="semester">
        <mat-option *ngFor="let semester of semesters" [value]="semester">
          {{semester}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="dropdown">
      <mat-label>Year</mat-label>
      <mat-select formControlName="year">
        <mat-option *ngFor="let year of years" [value]="year">
          {{year}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="dropdown">
      <mat-label>Class</mat-label>
      <mat-select formControlName="class">
        <mat-option *ngFor="let class of classes" [value]="class">
          {{class}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="dropdown">
      <mat-label>Professor</mat-label>
      <mat-select formControlName="professor">
        <mat-option *ngFor="let professor of professors" [value]="professor">
          {{ professor }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    
<!-- Submits the query with given terms -->
    <div class="query">
      <button class="button-primary" type="submit" [disabled]="!searchForm.valid">See Grade Distribution!</button>
      <button type="button" (click)="onClear()">Reset</button>
    </div>
  </form>
</div>

<div class="message-container" *ngIf="displaymessage">
  <p>Grade distribution for professor {{this.searchForm.get('professor')!.value}}'s {{this.searchForm.get('major')!.value}} {{this.searchForm.get('class')!.value}} class in the {{this.searchForm.get('semester')!.value}} of {{this.searchForm.get('year')!.value}}</p>
</div>

<div class="chart-container" *ngIf="displaymessage">
  <canvas  id="MyChart" >{{ chart }}</canvas>
</div>

<div class="note">
  <p> Note: You will not see classes populate the search query if they do not have data submitted. Encourage your fellow TarHeels to use RamVision!</p>
</div>




